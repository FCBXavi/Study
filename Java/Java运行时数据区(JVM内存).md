#Java运行时数据区(JVM内存)     
分为线程私有区和共享数据区
##线程私有区			
* 程序计数器（PC Register）
记录正在执行的虚拟机字节码的地址。和计算机组成原理中提到的程序计数器PC概念类似，是线程私有的，用来记录当前执行的字节码位置。
* 虚拟机栈（JVM Stack）
也就是我们常常所说的栈。
方法执行的内存区，每个方法执行时会在虚拟机栈中创建栈帧。虚拟机栈的生命周期与线程相同，每个方法（不包含native方法）执行的同时都会创建一个栈帧结构，方法执行过程，对应着虚拟机栈的入栈到出栈的过程。
* 本地方法栈（Native Method Stack）
本地方法栈则为虚拟机使用到的Native方法提供内存空间。

##共享数据区			
* Java堆（Heap）
Java堆一般是JVM管理的内存中最大的一块，堆在主内存中，是被所有线程共享的一块内存区域，其随着JVM的创建而创建，是用来存储对象本身的以及数组，同时JAVA堆也是GC管理的主要区域。
* 方法区（Method Area）
主要存放的是已被虚拟机加载的类信息、常量、静态变量、编译器编译后的代码等数据。
* 常量池（Runtime Constant Pool）
存放编译器生成的各种字面量和符号引用，是方法区的一部分。



Java内存模型与上面提到的JVM运行时数据区（JVM Runtime Data Areas）两个概念容易混淆。JVM 运行时数据区定义了JVM运行期内存的管理划分，而Java内存模型定义了程序中各个共享变量的访问规则。


堆中存放对象实例，栈中存放基本类型的变量和对象的引用，当向一个方法传递一个引用时，传的不是引用本身，而是引用的一个拷贝，方法中使用引用的拷贝操作该对象

对于字符串，编译期已经创建好的存放在常量区，new出来的存放在堆区

String s = new String("china");		
会先去常量池中查找是否已经有了“china”对象，如果没有则在常量池中创建一个此字符串对象，然后堆中再创建一个常量池中此”china”对象的拷贝对象。常量池可以扩展，String的 intern()方法就是扩充常量池的一个方法；当一个String实例str调用intern()方法时，Java 查找常量池中是否有相同Unicode的字符串常量，如果有，则返回其的引用，如果没有，则在常量池中增加一个Unicode等于str的字符串并返回它的引用

关于String+号	
		
1. 只有使用引号包含文本的方式创建的String对象之间使用“+”连接产生的新对象才会被加入常量池中。
2. 对于所有包含new方式新建对象（包括null）的“+”连接表达式，它所产生的新对象都不会被加入字符串池中。（特殊情况：表达式中的String是static final且已经被赋值的）


###成员变量和局部变量			
对于成员变量和局部变量：成员变量就是方法外部，类的内部定义的变量；局部变量就是方法或语句块内部定义的变量。局部变量必须初始化。 形式参数是局部变量，局部变量的数据存在于栈内存中。栈内存中的局部变量随着方法的消失而消失。 成员变量存储在堆中的对象里面，由垃圾回收器负责回收。


###基本类型和包装类型			
byte、short、char、int、long、boolean基本类型存储在栈中，Byte、Short、Character、Integer、Long、Boolean包装类型存储在堆中，上述包装类实现了常量池技术，Float、Double没有实现，常量池维护的常量是<b>-128～127</b>，使用包装类型创建对象时，如果使用new方法，会在堆中创建，如果使用直接赋值的方法，会在常量池中查找，如果常量池中有这个常量，会直接取出使用，否则会在堆中创建。

Java数学计算是在栈中进行的，Java会自动对包装类型进行拆箱操作

